# 遗传算法

遗传算法（Genetic Algorithm，GA）是模拟生物在自然环境中的遗传和进化的过程而形成的自适应全局优化搜索算法。

遗传算法最早由美国的 J.H.Holland 教授提出。

遗传算法借鉴了达尔文的进化论和孟德尔的遗传学说，本质上是一种并行、高效、全局搜索的方法，它能在搜索过程中自动获取和积累有关搜索空间的知识，并自适应地控制搜索过程以求得最优解。遗传算法操作使用“适者生存”的原则，在潜在的解决方案种群中逐次产生一个近似最优的方案。

## 遗传算法理论基础

### 模式定理

模式定义：模式是描述种群中在位串的某些确定位置上具有相似性的位串子集的相似性模板。

模式阶定义：模式H中确定位置的个数成为该模式的模式阶，记作O(H)。

定义距定义：在模式H中的第一个确定位置和最后一个确定位置之间的距离成为该模式的定义距，记作D(H)。

模式定理（遗传算法的基本定理）：在遗传算法选择、交叉和变异算子的作用下，具有低阶、短定义距，并且其平均适应度高于群体平均适应度的模式在子代中将呈指数增长。

### 积木块假设

积木块定义：具有低阶、短定义距以及高平均适应度的模式称为积木块。。

积木块假设：个体的积木块通过选择、交叉、变异等遗传算子的作用，能够相互结合在一起，形成高阶、长距、高平均适应度的个体编码串。

从遗传算法的模式定理得到：具有高适应度、低阶、短定义距的模式的数量会在种群的进化中呈指数级增长，从而保证算法获得最优解的一个必要条件。积木块假设指出：遗传算法有能力使优秀的模式向着更优的方向进化，即遗传算法有能力搜索到全局最优解。

## 遗传算法的基本概念

### 群体和个体

群体是生物进化过程中的一个集团，表示可行解集。

个体是组成群体的单个生物体，表示可行解。

### 染色体和基因

染色体是包含生物体所有遗传信息的化合物，表示可行解的编码。

基因是控制生物体某种性状（即遗传信息）的基本单位，表示可行解编码的分量。

### 遗传编码

遗传编码将优化变量转化为基因的组合表示形式，优化变量的编码机制有二进制编码、十进制编码（实数编码）等。

#### 二进制编码

一般来说，编码精度越高，所得到的解的质量也就越高，意味着解更为优良；但同时，由于遗传操作所需的计算量也更大，因此算法的耗时将更长。

#### 实数编码

使用实数编码的优点是计算精确度高，便于和经典连续优化算法结合，适用于数值优化问题，但缺点是适用范围有限，只能用于连续变量问题。

### 适应度

适应度即生物群体中个体适应生存环境的能力。在遗传算法中，用来评价个体优劣的数学函数，成为个体的适应度函数。

### 遗传操作

#### 选择算子

根据个体的适应度，按照一定的规则或方法，从第t代群体P(t)中选择溢出一些优良的个体遗传到下一代群体P(t+1)中。

其中，“轮盘赌”选择法是遗传算法中最早提出的一种选择方法，是一种基于比例的选择，利用各个个体适应度所占比例的大小决定其子孙保留的可能性。

#### 交叉算子

交叉：将群体中选中的各个个体随机搭配，对每一对个体，以某一概率交换它们之间的部分染色体。

交叉操作的一般步骤：首先，从交配池中随机取出要交配的一对个体；然后，根据位串长度L，对要匹配的一对个体，随机选取[1,L-1]中的一个或多个整数k作为交叉位置；最后，根据交叉概率实施交叉操作，配对个体在交叉位置处，相互交换各自的部分基因，从而形成新的一对个体。

#### 变异算子

对群体中的每个个体，以某一概率将某一个或某一些基因座上的基因值改变为其他的等位基因值。

根据个体编码的方式不同，变异方式有：实值变异、二进制变异。

变异操作：首先对种群中所有个体按事先设定的变异概率判断是否进行变异；然后，对进行变异的个体随机选择变异位进行变异。

## 标准遗传算法

标准遗传算法（Standard Genetic Algorithm，SGA）是由美国J.H.Holland教授和他的同事、学生于1975年研究出的遗传算法理论和方法。

### 遗传算法的特点

- 遗传算法以决策变量的编码作为运算对象
- 遗传算法直接以目标函数值作为搜索信息
- 遗传算法同时使用多个搜索点的搜索信息
- 遗传算法是一种基于概率的搜索技术
- 遗传算法具有自组织、自适应和自学习等特性

## 遗传算法流程

具体步骤如下：

1. 初始化。设置进化代数计数器g=0，设置最大进化代数G，随机生成NP个个体作为初始群体P(0)。
2. 个体评价。计算群体P(t)中各个个体的适应度。
3. 选择运算。
4. 交叉运算。
5. 变异运算。
6. 终止条件判断。

![遗传算法运算流程](https://raw.githubusercontent.com/huahuangyu/PicGo/master/20210321201552.jpg)

## 关键参数说明

### 群体规模NP

群体规模将影响遗传优化的最终结果以及遗传算法的执行效率。当群体规模NP太小时，遗传优化性能一般不会太好。采用较大的群体规模可以减小遗传算法陷入最优解的机会，但较大的群体规模意味着计算复杂度较高。一般，NP取10-200.

### 交叉概率

较大的交叉概率可以增强遗传算法开辟新的搜索区域的能力，但高性能的模式遭到破坏的可能性增大；若交叉概率太低，遗传算法可能陷入迟钝状态。一般，取0.25-1.00.

### 变异概率

变异在遗传算法中属于辅助性的搜索操作，主要目的是保持群体的多样性。一般低频度的变异可防止群体中重要基因的可能丢失，高频度的变异将使遗传算法趋于纯粹的随机搜索，一般取0.001-0.1.

### 遗传运算的终止进化代数

终止进化代数是表示遗传算法运行结束条件的一个参数，它表示遗传算法运行到指定的进化代数之后就停止运行，并将当前群体中的最佳个体作为所求问题解的最优解输出。一般，取值100-1000之间。
